!function(e){var t=function(e,t,n,o,a,i,r){$.ajax({type:e,url:t,data:n,cache:!1,async:!(void 0!==r&&!r),contentType:i&&0!==i.length?i:"application/x-www-form-urlencoded; charset=UTF-8",xhrFields:{withCredentials:!0},success:o,error:a})},n=function(e,n,o){t("GET","/domain/"+e+"/recodes",void 0,n,o)},o=function(e,n,o,a){t("POST","/domain/"+e+"/recodes",n,o,a)},a=function(e,n,o){t("DELETE","/recode/"+e,void 0,n,o)},i=function(e,n,o,a){t("PATCH","/recode/"+e,n,o,a)},r=function(e,n,o){t("POST","/domains",{domain:e},n,o)},l=function(e,n,o){t("DELETE","/domain/"+e,void 0,n,o)},d=function(e,n,o,a){t("PATCH","/domain/"+e,{domain:n},o,a)};e.ddns_get_recodes=n,e.ddns_new_domain=r,e.ddns_delete_domain=l,e.ddns_update_domain=d,e.ddns_new_recode=o,e.ddns_delete_recode=a,e.ddns_update_recode=i}("object"==typeof exports?exports:window,jQuery),function(e){function t(){return $(window).height()-$("h1").outerHeight(!0)}function n(e){return"Total"}function o(e){return e.length}function a(e){function a(e,t,n){return type_to_str(e)}function i(e,t,n){return'<input class="dynamic" type="checkbox"'+(e===!0?'checked="checked"':"")+'"/>'}function r(){$table.bootstrapTable({height:t(),columns:[[{title:"ID",field:"id",align:"center",valign:"middle",visible:!1,footerFormatter:n},{field:"host",title:"Host Recode",editable:!0,footerFormatter:o,align:"center"},{field:"value",title:"Recode Value",editable:!0,footerFormatter:o,align:"center"},{field:"type",title:"Recode Type",editable:!0,footerFormatter:o,align:"center",formatter:a},{field:"ttl",title:"TTL",editable:!0,footerFormatter:o,align:"center"},{field:"dynamic",title:"Dynamic",footerFormatter:o,align:"center",formatter:i,events:{"click .dynamic":function(e,t,n,o){n.dynamic=!t}}},{field:"key",title:"Update Key",align:"center",visible:!1},{field:"operate",title:"Operate",align:"center",events:m,formatter:c}]],queryParams:function(e){return e},responseHandler:d,url:"/domain/"+e+"/recodes"}),$table.on("check.bs.table uncheck.bs.table check-all.bs.table uncheck-all.bs.table",function(){s.prop("disabled",!$table.bootstrapTable("getSelections").length),f=l()}),$table.on("expand-row.bs.table",function(e,t,n,o){t%2==1&&(o.html("Loading from ajax request..."),$.get("LICENSE",function(e){o.html(e.replace(/\n/g,"<br>"))}))}),$table.on("all.bs.table",function(e,t,n){console.log(t,n)}),s.click(function(){var e=l();$table.bootstrapTable("remove",{field:"id",values:e}),s.prop("disabled",!0)}),u.click(function(){var e=Number(new Date);$table.bootstrapTable("insertRow",{index:0,row:{id:"",name:"test.site",key:"",value:"",ttl:600,dynamic:!0,randomId:e}})}),$(window).resize(function(){$table.bootstrapTable("resetView",{height:t()})})}function l(){return $.map($table.bootstrapTable("getSelections"),function(e){return e.id})}function d(e){if(e){if("ok"==e.code)return{total:e.recodes.length,rows:e.recodes};var t=e.code;e.msg&&e.code.length&&(t+="   "+e.msg),alert(t)}return{total:0,rows:[]}}function c(e,t,n){return['<a class="save" href="javascript:void(0)" title="Save">','<i class="\tglyphicon glyphicon-saved"></i>',"</a>",'<a class="remove" href="javascript:void(0)" title="Remove">','<i class="glyphicon glyphicon-remove"></i>',"</a>"].join("")}$table=$("#tb_recodes");var s=$("#remove"),u=$("#add"),f=[],m={"click .save":function(t,n,o,a){o.id&&o.id>0?ddns_update_recode(o.id,{name:o.name,value:o.value,ttl:o.ttl,dynamic:o.dynamic},function(e){if("ok"===e.code)alert("ok");else{var t=e.code;e.msg&&e.msg.length&&(t+="   "+e.msg),alert(t)}},function(e,t,n){}):ddns_new_recode(e,{host:o.host,type:str_to_type(o.type),value:o.value,ttl:o.ttl},function(e){if("ok"==e.code)$table.bootstrapTable("updateRow",{index:a,row:{id:e.id,key:e.key,dynamic:e.dynamic}});else{var t=e.code;e.msg&&e.msg.length&&(t+="   "+e.msg),alert(t)}})},"click .remove":function(e,t,n,o){void 0===n.id||""===n.id?n.randomId&&$table.bootstrapTable("remove",{field:"randomId",values:[n.randomId]}):ddns_delete_recode(n.id,function(e){if("ok"===e.code)$table.bootstrapTable("remove",{field:"id",values:[n.id]});else{var t=e.code;e.msg&&e.msg.length&&(t+="   "+e.msg),alert(t)}})}};r()}function i(){function e(){return['<a class="save" href="javascript:void(0)" title="Like">','<i class="\tglyphicon glyphicon-saved"></i>',"</a>",'<a class="remove" href="javascript:void(0)" title="Remove">','<i class="glyphicon glyphicon-remove"></i>',"</a>"].join("")}function n(e){if(e){if("ok"==e.code)return{total:e.domains.length,rows:e.domains};var t=e.code;e.msg&&e.code.length&&(t+="   "+e.msg),alert(t)}return{total:0,rows:[]}}function a(e,t,n){return'<a href="/domain/'+e+'/recodes">'+e+"</a>"}$table=$("#tb_domains");var i=$("#remove"),r=$("#add"),l=[],d={"click .save":function(e,t,n,o){n.id&&n.id>0?ddns_update_domain(n.id,n.domain,function(e){if("ok"==e.code)$table.bootstrapTable("updateRow",{index:o,row:{id:e.id}});else{var t=e.code;e.msg&&e.msg.length&&(t+="   "+e.msg),alert(t)}}):ddns_new_domain(n.domain,function(e){if("ok"==e.code)$table.bootstrapTable("updateRow",{index:o,row:{id:e.id}});else{var t=e.code;e.msg&&e.msg.length&&(t+="   "+e.msg),alert(t)}},function(e,t,n){})},"click .remove":function(e,t,n,o){void 0===n.id||""===n.id?n.randomId&&$table.bootstrapTable("remove",{field:"randomId",values:[n.randomId]}):ddns_delete_domain(n.id,function(e){if("ok"===e.code)$table.bootstrapTable("remove",{field:"id",values:[n.id]});else{var t=e.code;e.msg&&e.msg.length&&(t+="   "+e.msg),alert(t)}})}};!function(){$table.bootstrapTable({height:t(),columns:[[{title:"ID",field:"id",align:"center",valign:"middle",formatter:a},{field:"domain",title:"Domain",editable:!0,footerFormatter:o,align:"center"},{field:"operate",title:"Operate",align:"center",events:d,formatter:e}]],queryParams:function(e){return e},responseHandler:n}),$table.on("check.bs.table uncheck.bs.table check-all.bs.table uncheck-all.bs.table",function(){i.prop("disabled",!$table.bootstrapTable("getSelections").length),l=getIdSelections()}),$table.on("expand-row.bs.table",function(e,t,n,o){t%2==1&&(o.html("Loading from ajax request..."),$.get("LICENSE",function(e){o.html(e.replace(/\n/g,"<br>"))}))}),$table.on("all.bs.table",function(e,t,n){console.log(t,n)}),i.click(function(){var e=getIdSelections();$table.bootstrapTable("remove",{field:"id",values:e}),i.prop("disabled",!0)}),r.click(function(){var e=Number(new Date);$table.bootstrapTable("insertRow",{index:0,row:{id:"",name:"test.site",key:"",value:"",ttl:600,dynamic:!0,randomId:e}})}),$(window).resize(function(){$table.bootstrapTable("resetView",{height:getHeight()})})}()}e.on_init_recode_lists=a,e.on_init_domians_view=i}("object"==typeof exports?exports:window,jQuery),function(e){var t=Meny.create({menuElement:document.querySelector(".meny"),contentsElement:document.querySelector(".contents"),position:Meny.getQuery().p||"left",height:200,width:260,threshold:30,mouse:!0,touch:!0,overlap:0});e.meny=t,$(".menu-item").click(function(e){var t=$(this).attr("href");return!!t.match(/^http/gi)||($.ajax({type:"GET",url:t,cache:!1,dataType:"html",xhrFields:{withCredentials:!0},headers:{"DDNS-View":"true"},success:function(e,n,o){if(401==o.status)return void(window.location.href="/login");if(200==o.status){$("#view-container").html(e);var a={title:"",url:t};return void history.pushState(a,"",t)}window.location.href=t},error:function(){window.location.href=t}}),void e.preventDefault())})}("object"==typeof exports?exports:window),function(e){var t=function(e,t){var n=document.getElementsByTagName("head")[0],o=document.createElement("script");o.src=e;var a=!1;o.onload=o.onreadystatechange=function(){a||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(a=!0,t&&t(),o.onload=o.onreadystatechange=null)},n.appendChild(o)},n=function(e,n){if(n=n||function(){},!e.length)return n();var o=0,a=function(){t(e[o],function(t){t?(n(t),n=function(){}):(o+=1,o>=e.length?n(null):a())})};a()},o=function(e){switch(e){case"AAAA":return 0;case"A":return 1;case"CNAME":return 2;default:return-1}},a=function(e){switch(e){case 0:return"AAAA";case 1:return"A";case 2:return"CNAME";default:return"Unknow"}};e.load_series=n,e.str_to_type=o,e.type_to_str=a}("object"==typeof exports?exports:window,jQuery);